"use strict";(()=>{var i=class e{static toMoney(n){let c=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");return e.truncate(c,12)}static truncate(n,c){return n.length>c?n.substring(0,c)+"...":n}static parseInt(n){let c=parseInt(n,10);return isNaN(c)?void 0:c}static onRangeChange(n,c,s){let r=document.querySelector("#area-form"),t=r?.querySelector("#area-range"),a=r?.querySelector("#area-input");if(t instanceof HTMLInputElement&&a instanceof HTMLInputElement){a.addEventListener("blur",o=>{if(!(o.target instanceof HTMLInputElement))return;let g=e.parseInt(o.target.value);g!==void 0&&(g>n&&(g=n),g<c&&(g=c),o.target.value=g.toString(),s(g))});let u=(o,g)=>{if(!(o.target instanceof HTMLInputElement))return;let l=e.parseInt(o.target.value);l!==void 0&&(g.value=l.toString(),s(l))};t.addEventListener("input",o=>u(o,a)),a.addEventListener("input",o=>u(o,t))}}static getPricePerArea(n,c,s,r){return n<40?c:n<100?s:r}static getStagePrices(n,c,s,r){let t=a=>e.getPricePerArea(a,c,s,r);return{getPricePerArea:t,getPrice:a=>a*t(a)}}static getStageById(n,c){return n.find(s=>s.id===c)}static isStageSelected(n,c){return n.includes(c)}};var m={minArea:40,maxArea:350,startArea:69,packages:[{id:"minimal",name:"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0430\u043A\u0435\u0442",descriptions:["\u041F\u043E\u0434\u0445\u043E\u0434\u0438\u0442 \u0434\u043B\u044F \u0442\u0435\u0445, \u043A\u043E\u043C\u0443 \u043D\u0435 \u043D\u0443\u0436\u0435\u043D \u0430\u0432\u0442\u043E\u0440\u0441\u043A\u0438\u0439 \u0434\u0438\u0437\u0430\u0439\u043D","\u041D\u0435 \u0433\u043E\u0442\u043E\u0432 \u043A \u043F\u0435\u0440\u0435\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u043A\u0430\u043C, \u043D\u043E \u0445\u043E\u0447\u0435\u0442 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0432\u0435\u0441\u044C \u0444\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u0430","\u041F\u0440\u043E\u0435\u043A\u0442 \u043D\u0443\u0436\u0435\u043D \u0432 \u043A\u043E\u0440\u043E\u0442\u043A\u0438\u0435 \u0441\u0440\u043E\u043A\u0438","\u041F\u0440\u0438\u0432\u044B\u043A \u0441\u0430\u043C \u0440\u0435\u0448\u0430\u0442\u044C \u0431\u043E\u043B\u044C\u0448\u0438\u043D\u0441\u0442\u0432\u043E \u0432\u043E\u043F\u0440\u043E\u0441\u043E\u0432"],price:1400,packageContent:["\u041F\u043E\u0438\u0441\u043A \u043C\u0435\u0431\u0435\u043B\u044C\u043D\u043E\u0439 \u043A\u043E\u043C\u043F\u043E\u043D\u043E\u0432\u043A\u0438 \u043D\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0435\u0439 \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u043A\u0435","\u0421\u0442\u0440\u043E\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043F\u043B\u0430\u043D\u044B","\u0421\u043F\u0435\u0446\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F \u043E\u0441\u0432\u0435\u0449\u0435\u043D\u0438\u044F \u0438 \u044D\u043B\u0435\u043A\u0442\u0440\u0438\u043A\u0438"]},{id:"basic",name:"\u0411\u0430\u0437\u043E\u0432\u044B\u0439 \u043F\u0430\u043A\u0435\u0442",descriptions:["\u041F\u043E\u0434\u0445\u043E\u0434\u0438\u0442 \u0434\u043B\u044F \u0442\u0435\u0445, \u043A\u0442\u043E \u0434\u0430\u0432\u043D\u043E \u0437\u043D\u0430\u0435\u0442, \u0447\u0442\u043E \u0435\u043C\u0443 \u043D\u0430\u0434\u043E","\u0415\u0441\u0442\u044C \u043F\u043E\u043B\u043D\u043E\u0435 \u043F\u043E\u043D\u0438\u043C\u0430\u043D\u0438\u0435 \u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043E\u043D \u0433\u043E\u0442\u043E\u0432 \u043F\u043E\u0442\u0440\u0430\u0442\u0438\u0442\u044C \u043D\u0430 \u0440\u0435\u043C\u043E\u043D\u0442","\u041D\u0435 \u0433\u043E\u0442\u043E\u0432 \u043A \u043A\u0440\u0443\u043F\u043D\u044B\u043C \u043F\u0435\u0440\u0435\u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u043A\u0430\u043C, \u043D\u043E \u043F\u043E\u043D\u0438\u043C\u0430\u0435\u0442 \u0447\u0442\u043E \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u043E \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u044D\u0440\u0433\u043E\u043D\u043E\u043C\u0438\u0447\u043D\u044B\u043C","\u041F\u0440\u043E\u0435\u043A\u0442 \u043D\u0443\u0436\u0435\u043D \u0432 \u0441\u0436\u0430\u0442\u044B\u0435 \u0441\u0440\u043E\u043A\u0438","\u0425\u043E\u0440\u043E\u0448\u043E \u0440\u0430\u0437\u0432\u0438\u0442\u043E \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0435 \u043C\u044B\u0448\u043B\u0435\u043D\u0438\u0435"],price:2e3,packageContent:["\u0421\u0442\u0438\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u0440\u0435\u0448\u0435\u043D\u0438\u0435","\u041F\u043E\u0438\u0441\u043A \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u043E\u0433\u043E \u0440\u0435\u0448\u0435\u043D\u0438\u044F","\u0421\u0442\u0440\u043E\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043F\u043B\u0430\u043D\u044B","\u0420\u0430\u0441\u043A\u043B\u0430\u0434\u043A\u0430 \u043F\u043B\u0438\u0442\u043A\u0438 \u0434\u043B\u044F \u0441\u0442\u0435\u043D","\u0421\u043F\u0435\u0446\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F \u0441\u0430\u043D\u0442\u0435\u0445\u043D\u0438\u043A\u0438","\u0421\u043F\u0435\u0446\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F \u043E\u0441\u0432\u0435\u0449\u0435\u043D\u0438\u044F \u0438 \u044D\u043B\u0435\u043A\u0442\u0440\u0438\u043A\u0438","\u0412\u0435\u0434\u043E\u043C\u043E\u0441\u0442\u044C \u043E\u0442\u0434\u0435\u043B\u043A\u0438 \u0438 \u0434\u0432\u0435\u0440\u0435\u0439"]},{id:"optimal",name:"\u041E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0430\u043A\u0435\u0442",descriptions:["\u041F\u043E\u0434\u0445\u043E\u0434\u0438\u0442 \u0434\u043B\u044F \u0442\u0435\u0445, \u043A\u0442\u043E \u0445\u043E\u0447\u0435\u0442 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F \u0441\u043E \u0441\u0442\u0438\u043B\u0435\u043C \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043C \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u0435","\u0413\u043E\u0442\u043E\u0432 \u043A \u043A\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u043C\u0443 \u0438 \u043A\u0440\u0430\u0441\u0438\u0432\u043E\u043C\u0443 \u0440\u0435\u043C\u043E\u043D\u0442\u0443","\u0425\u043E\u0447\u0435\u0442 \u043F\u043E\u0434\u0431\u043E\u0440 \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u0430 \u0441 \u0443\u0447\u0435\u0442\u043E\u043C \u0438\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043F\u043E\u0434\u0445\u043E\u0434\u0430","\u041F\u043E\u043D\u0438\u043C\u0430\u0435\u0442, \u0447\u0442\u043E \u0445\u043E\u0440\u043E\u0448\u0438\u0439 \u0440\u0435\u043C\u043E\u043D\u0442 - \u044D\u0442\u043E \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u0440\u0435\u043C\u044F"],price:3e3,packageContent:["\u0421\u0442\u0438\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u0440\u0435\u0448\u0435\u043D\u0438\u0435","\u041F\u043E\u0438\u0441\u043A \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u043E\u0433\u043E \u0440\u0435\u0448\u0435\u043D\u0438\u044F","\u0412\u0438\u0437\u0443\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0445 \u043F\u043E\u043C\u0435\u0449\u0435\u043D\u0438\u0439","\u0421\u0442\u0440\u043E\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043F\u043B\u0430\u043D\u044B","\u0414\u0435\u0442\u0430\u043B\u044C\u043D\u044B\u0435 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u043A\u0438 \u043F\u043E\u043C\u0435\u0449\u0435\u043D\u0438\u0439","\u0421\u043F\u0435\u0446\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u044F","\u041A\u043E\u043C\u043F\u043B\u0435\u043A\u0442\u043E\u0432\u043E\u0447\u043D\u0430\u044F \u0432\u0435\u0434\u043E\u043C\u043E\u0441\u0442\u044C","\u0420\u0430\u0431\u043E\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0447\u0430\u0442 \u043D\u0430 \u043F\u0440\u043E\u0442\u044F\u0436\u0435\u043D\u0438\u0438 \u0432\u0441\u0435\u0433\u043E \u043F\u0440\u043E\u0435\u043A\u0442\u0430"]},{id:"full",name:"\u041F\u043E\u043B\u043D\u044B\u0439 \u043F\u0430\u043A\u0435\u0442",descriptions:["\u041F\u043E\u0434\u0445\u043E\u0434\u0438\u0442 \u0434\u043B\u044F \u0442\u0435\u0445, \u043A\u0442\u043E \u0445\u043E\u0447\u0435\u0442 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F \u0441\u043E \u0441\u0442\u0438\u043B\u0435\u043C \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043C \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u0435","\u0413\u043E\u0442\u043E\u0432 \u043A \u043A\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u043C\u0443 \u0438 \u043A\u0440\u0430\u0441\u0438\u0432\u043E\u043C\u0443 \u0440\u0435\u043C\u043E\u043D\u0442\u0443","\u0425\u043E\u0447\u0435\u0442 \u043F\u043E\u0434\u0431\u043E\u0440 \u043F\u0440\u043E\u0441\u0442\u0440\u0430\u043D\u0441\u0442\u0432\u0430 \u0441 \u0443\u0447\u0435\u0442\u043E\u043C \u0438\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043F\u043E\u0434\u0445\u043E\u0434\u0430","\u0425\u043E\u0447\u0435\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u0438\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u044B\u0445 \u0430\u0432\u0442\u043E\u0440\u0441\u043A\u0438\u0445 \u043F\u043E\u0434\u0431\u043E\u0440\u043E\u0432 \u043C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u043E\u0432 \u0438 \u043C\u0435\u0431\u0435\u043B\u0438","\u041F\u043E\u043D\u0438\u043C\u0430\u0435\u0442, \u0447\u0442\u043E \u0445\u043E\u0440\u043E\u0448\u0438\u0439 \u0440\u0435\u043C\u043E\u043D\u0442 - \u044D\u0442\u043E \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u0440\u0435\u043C\u044F"],price:3300,packageContent:["\u0421\u0442\u0438\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u0440\u0435\u0448\u0435\u043D\u0438\u0435","\u041F\u043E\u0438\u0441\u043A \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u043E\u0433\u043E \u0440\u0435\u0448\u0435\u043D\u0438\u044F","\u0412\u0438\u0437\u0443\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0445 \u043F\u043E\u043C\u0435\u0449\u0435\u043D\u0438\u0439","\u0421\u0442\u0440\u043E\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043F\u043B\u0430\u043D\u044B","\u0414\u0435\u0442\u0430\u043B\u044C\u043D\u044B\u0435 \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u043A\u0438 \u043F\u043E\u043C\u0435\u0449\u0435\u043D\u0438\u0439","\u0420\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432 \u0438\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0438\u0437\u0433\u043E\u0442\u043E\u0432\u043B\u0435\u043D\u0438\u044F","\u0421\u043F\u0435\u0446\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F \u043E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u044F","\u041A\u043E\u043C\u043F\u043B\u0435\u043A\u0442\u043E\u0432\u043E\u0447\u043D\u0430\u044F \u0432\u0435\u0434\u043E\u043C\u043E\u0441\u0442\u044C \u0441 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C\u044E \u0430\u043B\u044C\u0442\u0435\u0440\u043D\u0430\u0442\u0438\u0432\u043D\u043E\u0433\u043E \u0437\u0430\u043A\u0443\u043F\u0430","\u0420\u0430\u0431\u043E\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0447\u0430\u0442 \u043D\u0430 \u043F\u0440\u043E\u0442\u044F\u0436\u0435\u043D\u0438\u0438 \u0432\u0441\u0435\u0433\u043E \u043F\u0440\u043E\u0435\u043A\u0442\u0430","\u041F\u0430\u043D\u043E\u0440\u0430\u043C\u044B \u043F\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044F 360\xBA"]}],initialStages:["planning_solution","stylized_solution","visualization","construction_plans","specification"],stages:[{id:"planning_solution",name:"\u041F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u043E\u0435 \u0440\u0435\u0448\u0435\u043D\u0438\u0435",getPricePerArea:e=>i.getPricePerArea(e,500,450,400),getPrice:e=>i.getPricePerArea(e,500,450,400)*e},{id:"stylized_solution",name:"\u0421\u0442\u0438\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u0440\u0435\u0448\u0435\u043D\u0438\u0435",getPricePerArea:e=>i.getPricePerArea(e,550,500,450),getPrice:e=>i.getPricePerArea(e,550,500,450)*e},{id:"visualization",name:"\u0412\u0438\u0437\u0443\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F",getPricePerArea:e=>i.getPricePerArea(e,700,650,500),getPrice:e=>i.getPricePerArea(e,700,650,500)*e},{id:"panorama",name:"\u041F\u0430\u043D\u043E\u0440\u0430\u043C\u044B \u043F\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044F 360\xBA",getPricePerArea:e=>i.getPricePerArea(e,600,550,500),getPrice:e=>i.getPricePerArea(e,600,550,500)*e},{id:"construction_plans",name:"\u0421\u0442\u0440\u043E\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0447\u0435\u0440\u0442\u0435\u0436\u0438",getPricePerArea:e=>i.getPricePerArea(e,1300,1200,1100),getPrice:e=>i.getPricePerArea(e,1300,1200,1100)*e},{id:"specification",name:"\u041A\u043E\u043C\u043F\u043B\u0435\u043A\u0442\u043E\u0432\u043E\u0447\u043D\u0430\u044F \u0432\u0435\u0434\u043E\u043C\u043E\u0441\u0442\u044C",getPricePerArea:e=>e<40?35e3:5e4,getPrice:e=>e<40?35e3:5e4}]};var d=e=>{let n=()=>{let s=document.querySelectorAll(".description"),r=0;for(let t of s){let a=t.querySelector(".list");a&&a.clientHeight>r&&(r=a.clientHeight)}for(let t of s)t instanceof HTMLElement&&(t.style.minHeight=`${r+60}px`)};n(),addEventListener("resize",()=>n()),i.onRangeChange(e.maxArea,e.minArea,s=>{for(let r of e.packages){let t=document.querySelector(`#${r.id} .area .value`);t&&(t.innerHTML=i.truncate(s.toString(),10));let a=document.querySelector(`#${r.id} .project-price .value`);a&&(a.innerHTML=i.toMoney(r.price*s))}});let c=document.querySelectorAll(".package");for(let s of c)s.querySelector(".package-content .toggle-button")?.addEventListener("click",r=>{r.preventDefault(),s.querySelector(".package-content .content")?.classList.toggle("active");let t=s.querySelector(".package-content .toggle-button i");t&&(t.classList.contains("fa-chevron-circle-right")?(t.classList.remove("fa-chevron-circle-right"),t.classList.add("fa-chevron-circle-down")):(t.classList.remove("fa-chevron-circle-down"),t.classList.add("fa-chevron-circle-right")))})};var p=e=>{let n=[...e.initialStages],c=r=>{let t=0;for(let u of n){let o=i.getStageById(e.stages,u);o&&(t+=o.getPrice(r))}let a=document.querySelector(".total .value");a&&(a.innerHTML=i.toMoney(t))},s=r=>{n.includes(r)?n.splice(n.indexOf(r),1):n.push(r);for(let u of document.querySelectorAll(".stage")){if(!(u instanceof HTMLElement))continue;let o=u.querySelector(".stage-checked");n.includes(u.id)?o?.classList.add("active"):o?.classList.remove("active")}let t=document.querySelector(".stages-list");if(t){let u="";for(let o of n){let g=i.getStageById(e.stages,o);g&&(u+=`<li>${g.name}</li>`)}u===""&&(u="<li>\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043E</li>"),t.innerHTML=u}let a=document.querySelector("#area-input");if(a instanceof HTMLInputElement){let u=i.parseInt(a.value);u!==void 0&&c(u)}};for(let r of document.querySelectorAll(".stage"))r.addEventListener("click",t=>{t.target instanceof HTMLElement&&s(r.id)});i.onRangeChange(e.maxArea,e.minArea,r=>{for(let t of e.stages){let a=document.querySelector(`#${t.id} .area .value`);a&&(a.innerHTML=i.truncate(r.toString(),10));let u=document.querySelector(`#${t.id} .price .value`);u&&(u.innerHTML=i.toMoney(t.getPricePerArea(r)));let o=document.querySelector(`#${t.id} .stage-price .value`);o&&(o.innerHTML=i.toMoney(t.getPrice(r)))}c(r)})};(function(){document.querySelector("#packages")&&d(m),document.querySelector("#stages")&&p(m)})();})();
